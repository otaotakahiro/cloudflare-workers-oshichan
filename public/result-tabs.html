<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>私の推しちゃん診断結果</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="./styles/main.css" rel="stylesheet" />
    <link href="./styles/tabs-style.css" rel="stylesheet" />
  </head>

  <body>
    <div class="container mx-auto px-4 py-5 max-w-7xl">
      <!-- ヘッダー部分 -->
      <div class="header-section mb-0 text-center sticky top-0 z-50 bg-white shadow-md w-full py-3 flex flex-col items-center">
        <h1 class="text-lg sm:text-xl font-bold mb-1" id="person-name">あなたの推し <span id="oshi-name-placeholder"></span> の診断結果</h1>
        <div class="profile-info grid grid-cols-2 gap-x-2 gap-y-0 text-xs sm:text-sm leading-tight mb-2">
          <div class="info-item text-center">氏名: <span id="full-name">-</span></div>
          <div class="info-item text-center">性別: <span id="gender">-</span></div>
          <div class="info-item text-center">生年月日: <span id="birth-date">-</span></div>
          <div class="info-item text-center">分析日: <span id="analysis-date">-</span></div>
        </div>
        <div class="inline-flex flex-col sm:flex-row w-full justify-center border-t">
          <!-- タブボタン (adjusted borders for header context) -->
          <button id="overview-tab" class="tab-button active py-1.5 px-4 text-center font-medium text-sm border-b-2 border-blue-500 mb-px sm:mb-0 sm:py-2">
            <i class="fas fa-user-circle mr-1"></i>基本データ
          </button>
          <button id="skills-tab" class="tab-button py-1.5 px-4 text-center font-medium text-sm text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300 mb-px sm:mb-0 sm:py-2">
            <i class="fas fa-microphone-alt mr-1"></i>ライブでの輝き
          </button>
          <button id="career-tab" class="tab-button py-1.5 px-4 text-center font-medium text-sm text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300 mb-px sm:mb-0 sm:py-2" style="display: none;">
            <i class="fas fa-briefcase mr-1"></i>キャリア適性
          </button>
          <button id="future-tab" class="tab-button py-1.5 px-4 text-center font-medium text-sm text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300 mb-px sm:mb-0 sm:py-2" style="display: none;">
            <i class="fas fa-road mr-1"></i>未来予測
          </button>
          <button id="plus-tab" class="tab-button py-1.5 px-4 text-center font-medium text-sm text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300 mb-px sm:mb-0 sm:py-2" style="display: none;">
            <i class="fas fa-plus-circle mr-1"></i>プラスオン
          </button>
        </div>
      </div>

      <!-- ローディングインジケーター -->
      <!-- <div id="loading-indicator" class="text-center py-10 mt-4">
        <div class="spinner-border inline-block w-12 h-12 border-4 rounded-full border-blue-500 border-t-transparent animate-spin mb-4"></div>
        <p class="mt-4 text-gray-600">データを読み込んでいます...</p>
      </div> -->

      <!-- エラーメッセージ -->
      <div id="error-message" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 hidden">
        <p id="error-text">データの読み込みに失敗しました。</p>
      </div>

      <!-- タブコンテンツ -->
      <div class="tab-content-container" style="padding: 0;">
        <!-- 基本データタブの内容 (旧 人物概要タブ) -->
        <div class="tab-content active" id="overview-content">
          <!-- ここに baseDiagnosis の publicPersona, privatePersona, mentalAspects, socialStance, lyingHabits を表示するUIを後で構築 -->
          <div class="p-4"> (基本データタブの内容はここに表示されます) </div>
        </div>

        <!-- ライブでの輝きタブの内容 (旧 能力評価タブ) -->
        <div class="tab-content" id="skills-content">
          <!-- ここに baseDiagnosis の livePerformanceHints を表示するUIを後で構築 -->
           <div class="p-4"> (ライブでの輝きタブの内容はここに表示されます) </div>
        </div>

        <!-- キャリア適性タブの内容 (非表示) -->
        <div class="tab-content" id="career-content" style="display: none;">
          <!-- 内容は現状のまま or 削除しても良い -->
        </div>

        <!-- 未来予測タブの内容 (非表示) -->
        <div class="tab-content" id="future-content" style="display: none;">
          <!-- 内容は現状のまま or 削除しても良い -->
        </div>

        <!-- プラスオンタブの内容 (非表示) -->
        <div class="tab-content" id="plus-content" style="display: none;">
          <!-- 内容は現状のまま or 削除しても良い -->
        </div>
      </div>
    </div>

    <!-- フッター -->
    <div class="footer mt-8 px-4">
      <div class="container mx-auto max-w-7xl">
        <div class="flex flex-col mb-4 border-t pt-4">
          <div class="flex justify-between w-full mb-6">
            <a href="./" class="text-sm text-blue-500 hover:text-blue-700 hover:underline transition-colors duration-200">
              <!-- ＜＜フォームに戻る -->
            </a>
          </div>
          <div class="text-center text-gray-500">
            <p>© 2025 私の推しちゃん診断（仮）</p>
            <p class="text-xs mt-1">この診断はあなたの推しへの愛を深めるエンターテイメントです</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 各タブのスクリプトを明示的に読み込み -->
    <script type="module" src="./scripts/tabs-overview.js"></script>
    <script type="module" src="./scripts/tabs-main.js"></script>

    <script>
      // エラーハンドリング
      window.addEventListener('error', function(event) {
        console.error('Script error:', event);
      });
    </script>

    <!-- Back to Top Button -->
    <button
      id="back-to-top-btn"
      class="hidden fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg transition-opacity duration-300 z-50"
      title="トップに戻る"
    >
      <i class="fas fa-arrow-up"></i>
    </button>

  </body>
</html>
